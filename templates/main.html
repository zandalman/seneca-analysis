{% extends "base.html" %}
{% block styles %}
    <link href="../static/css/plot.css" rel="stylesheet" type="text/css">
{% endblock %}
{% block title %}plot{% endblock %}
{% block script1 %}<script>{{ form_init_js|safe }}</script>{% endblock %}
{% block content %}
    <hr class="main">
    <div class="row">
        <form id="add-routine-form" name="add-routine" method="post" enctype="multipart/form-data">
            <label for="routine-upload">
                <i class="material-icons button" style="color:green;" id="add-routine" title="add routine">add_circle</i>
            </label>
            <input type="file" name="routine" id="routine-upload" style="display: none;" onchange="form.submit();"/>
        </form>
        <i class="material-icons button inactive" style="color:red;" id="remove-routine" title="remove routine">remove_circle</i>
        <i class="material-icons button inactive" style="color:dodgerblue;" id="unselect" title="unselect">highlight_off</i>
        <i class="material-icons button inactive" style="color:green;" id="run-routine" title="run routines">play_arrow</i>
        <i class="material-icons button inactive" style="color:red;" id="stop-routine" title="stop routine">stop</i>
    </div><hr>
    <div class="row">
        <label for="filter">Filter:</label>
        <input type="text" id="filter">
        <ul id="routine-list">
            {%- for id, filename in routines.items() %}
                <li class="routine" id="{{ id }}">{{ filename }}</li>
            {%- endfor %}
        </ul>
    </div><hr class="main">
    <div class="row">
        <i class="material-icons button" style="color:green;" id="start-analysis" title="start analysis">play_arrow</i>
        <i class="material-icons button inactive" style="color:dodgerblue;" id="pause-analysis" title="pause analysis">pause</i>
        <i class="material-icons button inactive" style="color:red;" id="stop-analysis" title="stop analysis">stop</i>
        <p id="timer">00.00</p>
        <label for="slider" id="period-label">Period (s):</label>
        <div id="slider">
            <div id="custom-handle" class="ui-slider-handle">
                <input type="number" id="period" min="0.1" max="100"/>
            </div>
        </div>
    </div><hr>
    <div class="row">
        <div class="column" style="width: 20%">
            <h2>Plots</h2><hr class="main">
            <ul id="plot-list"></ul>
        </div>
        <div class="column" style="width: 80%">
            <div id="plots-container-parent">
                <div id="plots-container"></div>
                <div id="grid-options">
                    <i class="material-icons button" style="color:purple;" id="toggle-grid" title="toggle grid">grid_off</i>
                    <div id="slider-grid"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block script2 %}
    <script src="../static/js/main.js"></script>
{% endblock %}